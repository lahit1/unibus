#include <iostream>
#include <unordered_map>
#include <initializer_list>

#include <unibus/req>
#include <unibus/res>

namespace unibus {

	namespace Radix {

		struct N { // Radix node
			void (*worker_func)(Req req, Res res);
			std::unordered_map<char, std::shared_ptr<N>> targets;

			void call(std::istream in, std::ostream out);
			void add(const std::initializer_list<char>& data, void (*worker_func)(Req req, Res res));
		};

	}

}
